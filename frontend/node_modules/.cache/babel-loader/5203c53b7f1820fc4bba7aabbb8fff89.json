{"ast":null,"code":"import _slicedToArray from\"/Users/jerome/Desktop/dev/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PopupEditProfile(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,buttonText=_ref.buttonText,onUpdateUser=_ref.onUpdateUser;var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];var currentUser=React.useContext(CurrentUserContext);function handleNameChange(e){setName(e.target.value);}function handleAboutChange(e){setDescription(e.target.value);}React.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{isOpen:isOpen,onClose:onClose,buttonText:buttonText,handleSubmit:handleSubmit,title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",name:\"edit_profile\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form__text\",name:\"text_name\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F\",value:name||\"\",onChange:handleNameChange,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form__error\",id:\"text_name-error\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form__text\",name:\"text_job\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044E\",value:description||\"\",onChange:handleAboutChange,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form__error\",id:\"text_job-error\"})]});}export default PopupEditProfile;","map":{"version":3,"sources":["/Users/jerome/Desktop/dev/react-mesto-auth/src/components/PopupEditProfile.js"],"names":["React","PopupWithForm","CurrentUserContext","PopupEditProfile","isOpen","onClose","buttonText","onUpdateUser","useState","name","setName","description","setDescription","currentUser","useContext","handleNameChange","e","target","value","handleAboutChange","useEffect","about","handleSubmit","preventDefault"],"mappings":"iKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,wFAEA,QAASC,CAAAA,gBAAT,MAAyE,IAA7CC,CAAAA,MAA6C,MAA7CA,MAA6C,CAArCC,OAAqC,MAArCA,OAAqC,CAA5BC,UAA4B,MAA5BA,UAA4B,CAAhBC,YAAgB,MAAhBA,YAAgB,CACvE,oBAAwBP,KAAK,CAACQ,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAsCV,KAAK,CAACQ,QAAN,CAAe,EAAf,CAAtC,qDAAOG,WAAP,qBAAoBC,cAApB,qBACA,GAAMC,CAAAA,WAAW,CAAGb,KAAK,CAACc,UAAN,CAAiBZ,kBAAjB,CAApB,CAEA,QAASa,CAAAA,gBAAT,CAA0BC,CAA1B,CAA6B,CAC3BN,OAAO,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAED,QAASC,CAAAA,iBAAT,CAA2BH,CAA3B,CAA8B,CAC5BJ,cAAc,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACD,CAEDlB,KAAK,CAACoB,SAAN,CAAgB,UAAM,CACpBV,OAAO,CAACG,WAAW,CAACJ,IAAb,CAAP,CACAG,cAAc,CAACC,WAAW,CAACQ,KAAb,CAAd,CACD,CAHD,CAGG,CAACR,WAAD,CAAcT,MAAd,CAHH,EAKA,QAASkB,CAAAA,YAAT,CAAsBN,CAAtB,CAAyB,CACvBA,CAAC,CAACO,cAAF,GACAhB,YAAY,CAAC,CACXE,IAAI,CAAEA,IADK,CAEXY,KAAK,CAAEV,WAFI,CAAD,CAAZ,CAID,CAED,mBACE,MAAC,aAAD,EACE,MAAM,CAAEP,MADV,CAEE,OAAO,CAAEC,OAFX,CAGE,UAAU,CAAEC,UAHd,CAIE,YAAY,CAAEgB,YAJhB,CAKE,KAAK,CAAC,2HALR,CAME,IAAI,CAAC,cANP,wBAQE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,YAFZ,CAGE,IAAI,CAAC,WAHP,CAIE,WAAW,CAAC,+DAJd,CAKE,KAAK,CAAEb,IAAI,EAAI,EALjB,CAME,QAAQ,CAAEM,gBANZ,CAOE,QAAQ,KAPV,EARF,cAiBE,aAAM,SAAS,CAAC,aAAhB,CAA8B,EAAE,CAAC,iBAAjC,EAjBF,cAkBE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,YAFZ,CAGE,IAAI,CAAC,UAHP,CAIE,WAAW,CAAC,mGAJd,CAKE,KAAK,CAAEJ,WAAW,EAAI,EALxB,CAME,QAAQ,CAAEQ,iBANZ,CAOE,QAAQ,KAPV,EAlBF,cA2BE,aAAM,SAAS,CAAC,aAAhB,CAA8B,EAAE,CAAC,gBAAjC,EA3BF,GADF,CA+BD,CAED,cAAehB,CAAAA,gBAAf","sourcesContent":["import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction PopupEditProfile({ isOpen, onClose, buttonText, onUpdateUser }) {\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleAboutChange(e) {\n    setDescription(e.target.value);\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      buttonText={buttonText}\n      handleSubmit={handleSubmit}\n      title=\"Редактировать профиль\"\n      name=\"edit_profile\"\n    >\n      <input\n        type=\"text\"\n        className=\"form__text\"\n        name=\"text_name\"\n        placeholder=\"Введите имя\"\n        value={name || \"\"}\n        onChange={handleNameChange}\n        required\n      />\n      <span className=\"form__error\" id=\"text_name-error\"></span>\n      <input\n        type=\"text\"\n        className=\"form__text\"\n        name=\"text_job\"\n        placeholder=\"Введите профессию\"\n        value={description || \"\"}\n        onChange={handleAboutChange}\n        required\n      />\n      <span className=\"form__error\" id=\"text_job-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default PopupEditProfile;\n"]},"metadata":{},"sourceType":"module"}