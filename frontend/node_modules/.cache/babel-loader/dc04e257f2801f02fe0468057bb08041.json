{"ast":null,"code":"var BASE_URL='https://auth.nomoreparties.co';export var signup=function signup(_ref){var email=_ref.email,password=_ref.password;return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})}).then(function(res){return res.status===201?res.json():res;});};export var signin=function signin(_ref2){var email=_ref2.email,password=_ref2.password;return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify({email:email,password:password})}).then(function(res){return res.json();}).then(function(data){if(data.token){localStorage.setItem('jwt',data.token);localStorage.setItem('email',email);}return data;});};export var checkToken=function checkToken(token){return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}}).then(function(res){return res.status===200?res.json():res;});};","map":{"version":3,"sources":["/Users/jerome/Desktop/dev/react-mesto-auth/src/utils/auth.js"],"names":["BASE_URL","signup","email","password","fetch","method","headers","Accept","body","JSON","stringify","then","res","status","json","signin","data","token","localStorage","setItem","checkToken","Authorization"],"mappings":"AAAA,GAAMA,CAAAA,QAAQ,CAAG,+BAAjB,CAGA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAAyB,IAAtBC,CAAAA,KAAsB,MAAtBA,KAAsB,CAAfC,QAAe,MAAfA,QAAe,CAC7C,MAAOC,CAAAA,KAAK,WAAIJ,QAAJ,YAAuB,CACjCK,MAAM,CAAE,MADyB,CAEjCC,OAAO,CACL,CAAEC,MAAM,CAAE,kBAAV,CAA8B,eAAgB,kBAA9C,CAH+B,CAIjCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAER,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAAf,CAJ2B,CAAvB,CAAL,CAMJQ,IANI,CAMC,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,MAAJ,GAAe,GAAf,CAAqBD,GAAG,CAACE,IAAJ,EAArB,CAAkCF,GAAtC,EANJ,CAAP,CAOD,CARM,CAUP,MAAO,IAAMG,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,OAAyB,IAAtBb,CAAAA,KAAsB,OAAtBA,KAAsB,CAAfC,QAAe,OAAfA,QAAe,CAC7C,MAAOC,CAAAA,KAAK,WAAIJ,QAAJ,YAAuB,CACjCK,MAAM,CAAE,MADyB,CAEjCC,OAAO,CAAE,CACPC,MAAM,CAAE,kBADD,CAEP,eAAgB,kBAFT,CAFwB,CAMjCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAER,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAAf,CAN2B,CAAvB,CAAL,CAQJQ,IARI,CAQC,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACE,IAAJ,EAAJ,EARJ,EASJH,IATI,CASC,SAAAK,IAAI,CAAI,CACZ,GAAIA,IAAI,CAACC,KAAT,CAAgB,CACdC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA4BH,IAAI,CAACC,KAAjC,EACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BjB,KAA9B,EACD,CAED,MAAOc,CAAAA,IAAP,CACD,CAhBI,CAAP,CAiBD,CAlBM,CAqBP,MAAO,IAAMI,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACH,KAAD,CAAW,CACnC,MAAOb,CAAAA,KAAK,WAAIJ,QAAJ,cAAyB,CACnCK,MAAM,CAAE,KAD2B,CAEnCC,OAAO,CAAE,CACPC,MAAM,CAAE,kBADD,CAEP,eAAgB,kBAFT,CAGPc,aAAa,kBAAYJ,KAAZ,CAHN,CAF0B,CAAzB,CAAL,CAQJN,IARI,CAQC,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,MAAJ,GAAe,GAAf,CAAqBD,GAAG,CAACE,IAAJ,EAArB,CAAkCF,GAAtC,EARJ,CAAP,CASD,CAVM","sourcesContent":["const BASE_URL = 'https://auth.nomoreparties.co';\n\n\nexport const signup = ({ email, password }) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers:\n      { Accept: 'application/json', 'Content-Type': 'application/json' },\n    body: JSON.stringify({ email, password })\n  })\n    .then(res => res.status === 201 ? res.json() : res);\n};\n\nexport const signin = ({ email, password }) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then(res => res.json())\n    .then(data => {\n      if (data.token) {\n        localStorage.setItem('jwt', data.token);\n        localStorage.setItem('email', email);\n      }\n\n      return data;\n    });\n};\n\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(res => res.status === 200 ? res.json() : res);\n}\n\n"]},"metadata":{},"sourceType":"module"}