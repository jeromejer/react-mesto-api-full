{"ast":null,"code":"const BASE_URL = 'https://auth.nomoreparties.co';\nexport const signup = _ref => {\n  let {\n    email,\n    password\n  } = _ref;\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  }).then(res => res.status === 201 ? res.json() : res);\n};\nexport const signin = _ref2 => {\n  let {\n    email,\n    password\n  } = _ref2;\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  }).then(res => res.json()).then(data => {\n    if (data.token) {\n      localStorage.setItem('jwt', data.token);\n      localStorage.setItem('email', email);\n    }\n\n    return data;\n  });\n};\nexport const checkToken = token => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  }).then(res => res.status === 200 ? res.json() : res);\n};","map":{"version":3,"sources":["/Users/jerome/Desktop/dev/react-mesto-auth/src/utils/auth.js"],"names":["BASE_URL","signup","email","password","fetch","method","headers","Accept","body","JSON","stringify","then","res","status","json","signin","data","token","localStorage","setItem","checkToken","Authorization"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,+BAAjB;AAGA,OAAO,MAAMC,MAAM,GAAG,QAAyB;AAAA,MAAxB;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAwB;AAC7C,SAAOC,KAAK,CAAE,GAAEJ,QAAS,SAAb,EAAuB;AACjCK,IAAAA,MAAM,EAAE,MADyB;AAEjCC,IAAAA,OAAO,EACL;AAAEC,MAAAA,MAAM,EAAE,kBAAV;AAA8B,sBAAgB;AAA9C,KAH+B;AAIjCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAER,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAf;AAJ2B,GAAvB,CAAL,CAMJQ,IANI,CAMCC,GAAG,IAAIA,GAAG,CAACC,MAAJ,KAAe,GAAf,GAAqBD,GAAG,CAACE,IAAJ,EAArB,GAAkCF,GAN1C,CAAP;AAOD,CARM;AAUP,OAAO,MAAMG,MAAM,GAAG,SAAyB;AAAA,MAAxB;AAAEb,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAwB;AAC7C,SAAOC,KAAK,CAAE,GAAEJ,QAAS,SAAb,EAAuB;AACjCK,IAAAA,MAAM,EAAE,MADyB;AAEjCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EAAE,kBADD;AAEP,sBAAgB;AAFT,KAFwB;AAMjCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAER,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAf;AAN2B,GAAvB,CAAL,CAQJQ,IARI,CAQCC,GAAG,IAAIA,GAAG,CAACE,IAAJ,EARR,EASJH,IATI,CASCK,IAAI,IAAI;AACZ,QAAIA,IAAI,CAACC,KAAT,EAAgB;AACdC,MAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BH,IAAI,CAACC,KAAjC;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BjB,KAA9B;AACD;;AAED,WAAOc,IAAP;AACD,GAhBI,CAAP;AAiBD,CAlBM;AAqBP,OAAO,MAAMI,UAAU,GAAIH,KAAD,IAAW;AACnC,SAAOb,KAAK,CAAE,GAAEJ,QAAS,WAAb,EAAyB;AACnCK,IAAAA,MAAM,EAAE,KAD2B;AAEnCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EAAE,kBADD;AAEP,sBAAgB,kBAFT;AAGPc,MAAAA,aAAa,EAAG,UAASJ,KAAM;AAHxB;AAF0B,GAAzB,CAAL,CAQJN,IARI,CAQCC,GAAG,IAAIA,GAAG,CAACC,MAAJ,KAAe,GAAf,GAAqBD,GAAG,CAACE,IAAJ,EAArB,GAAkCF,GAR1C,CAAP;AASD,CAVM","sourcesContent":["const BASE_URL = 'https://auth.nomoreparties.co';\n\n\nexport const signup = ({ email, password }) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers:\n      { Accept: 'application/json', 'Content-Type': 'application/json' },\n    body: JSON.stringify({ email, password })\n  })\n    .then(res => res.status === 201 ? res.json() : res);\n};\n\nexport const signin = ({ email, password }) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then(res => res.json())\n    .then(data => {\n      if (data.token) {\n        localStorage.setItem('jwt', data.token);\n        localStorage.setItem('email', email);\n      }\n\n      return data;\n    });\n};\n\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(res => res.status === 200 ? res.json() : res);\n}\n\n"]},"metadata":{},"sourceType":"module"}